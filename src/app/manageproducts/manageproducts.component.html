<div class="borderstyle">
    <div class="row rowstyle">
        <div class="col-md-12">
            <h1 class="text-center my-1 text-primary">Manage Products</h1>
            <hr>
        </div>

        <div class="col-md-6">
            <h3 class="my-3 text-primary">Add Products</h3>
            <form>
                <div class="form-group">
                    <label for="productId">Product Id</label>
                    <input type="text" id="productId" class="form-control" name="productId" #id>
                </div>

                <div class="form-group mt-2">
                    <label for="productName">Product Name</label>
                    <input type="text" id="productName" class="form-control" name="productName" #name>
                </div>

                <div class="form-group mt-2">
                    <label for="productPrice">Product Price</label>
                    <input type="text" id="productPrice" class="form-control" name="productPrice" #price>
                </div>

                <div class="mt-3">
                    <button class="btn btn-primary btn-sm" (click)="addProduct(id, name, price)">{{editMode? 'Update Product':'Add Product'}}</button>
                    <button class="btn btn-success btn-sm mx-2" (click)="saveProducts()">Save Product</button>
                    <button class="btn btn-warning btn-sm" (click)="fetchProducts()">Fetch Product</button>
                </div>
            </form>
        </div>

        <div class="col-md-6">
            <h3 class="my-3 text-primary">{{dataTitle | async}}</h3>
            <table class="table">

                <thead class="table-dark">
                    <tr class="text-center">
                        <th>#</th>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody *ngIf="!fetchingProducts">
                    <tr *ngFor="let item of products; index as i" class="text-center">
                        <td>{{i+1}}</td>
                        <td>{{item.id}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.price}}</td>
                        <td class="text-success" (click)="editItems(i)"><fa-icon [icon]="edit"></fa-icon></td>
                        <td class="text-danger" (click)="removeItems(i)"><fa-icon [icon]="trash"></fa-icon></td>
                    </tr>
                </tbody>

            </table>

            <div class="text-center" *ngIf="fetchingProducts">
                <div class="spinner-border text-warning spinner-border-sm" role="status"></div>
                Fetching Products....
            </div>
        </div>
    </div>
</div>